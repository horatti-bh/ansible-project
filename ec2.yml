- name: Create an EC2 Instance
  hosts: all
  become: yes
  tasks:
    - name: install pip3 for dependency
      yum:
        name: python3-pip
        state: present

    - name: install pip for dependency
      yum:
        name: python-pip
        state: present

    - name: Install boto for dependency
      pip:
        name: boto

    - name: Create an ec2 server
      ec2:
        exact_count: 1
        key_name: devops
        instance_type: t2.micro
        image: ami-06553e40eb432837c
        region: us-east-1

